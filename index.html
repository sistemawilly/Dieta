<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Dieta + √Ågua + Ciclo</title>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      background-color: #ffe6f0;
      color: #4a004e;
      margin: 0;
      padding: 0;
      line-height: 1.6;
      overflow-x: hidden;
    }

    header {
      background: #ff99cc;
      color: white;
      text-align: center;
      padding: 20px;
      font-size: 24px;
      font-weight: bold;
      border-radius: 0 0 20px 20px;
    }

    main {
      padding: 20px;
      max-width: 900px;
      margin: auto;
    }

    section {
      background: #fff0f6;
      padding: 15px;
      margin-bottom: 20px;
      border-radius: 15px;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    }

    h2 {
      color: #d63384;
      margin-bottom: 10px;
      font-size: 20px;
    }

    ul {
      list-style: none;
      padding: 0;
    }

    li {
      padding: 5px 0;
      border-bottom: 1px dashed #ffb6d9;
    }

    .water-tracker, .menstruation-tracker {
      text-align: center;
      padding: 20px;
      background: #ffe6f0;
      border-radius: 20px;
      margin-top: 30px;
      position: relative;
    }

    .bottles {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 15px;
      margin: 20px 0;
    }

    .bottle {
      width: 60px;
      height: 120px;
      border: 3px solid #d63384;
      border-radius: 15px;
      position: relative;
      cursor: pointer;
      background: linear-gradient(to top, #ffffff 50%, #ffe6f0 50%);
      transition: background 0.3s;
    }

    .bottle.filled {
      background: linear-gradient(to top, #ff66b2 100%, #ffe6f0 0%);
    }

    .bottle::after {
      content: "500ml";
      position: absolute;
      bottom: -20px;
      width: 100%;
      text-align: center;
      font-size: 12px;
      color: #4a004e;
    }

    .progress {
      font-size: 18px;
      font-weight: bold;
      margin-top: 10px;
    }

    button {
      background: #d63384;
      color: white;
      border: none;
      padding: 10px 20px;
      border-radius: 10px;
      cursor: pointer;
      font-size: 16px;
      margin-top: 15px;
      transition: background 0.3s;
    }

    button:hover {
      background: #b32468;
    }

    input[type=number] {
      padding: 5px;
      font-size: 16px;
      width: 60px;
      border-radius: 8px;
      border: 2px solid #d63384;
      margin-right: 10px;
    }

    .confetti, .heart, .flower {
      position: fixed;
      top: 0;
      opacity: 0.8;
      z-index: 9999;
      pointer-events: none;
    }

    .confetti {
      width: 10px;
      height: 10px;
      background-color: #ff69b4;
      animation: fall 2s linear forwards;
    }

    .heart {
      font-size: 20px;
      color: #ff1493;
      animation: fallHeart 2s linear forwards;
    }

    .flower {
      font-size: 20px;
      color: #ff66b2;
      animation: fall 2s linear forwards;
    }

    @keyframes fall {
      0% {transform: translateY(0) rotate(0deg);}
      100% {transform: translateY(400px) rotate(360deg); opacity: 0;}
    }

    @keyframes fallHeart {
      0% {transform: translateY(0) rotate(0deg);}
      100% {transform: translateY(400px) rotate(720deg); opacity: 0;}
    }

    @media (max-width: 600px) {
      .bottle {
        width: 50px;
        height: 100px;
      }
    }
  </style>
</head>
<body>
  <header>üå∏ Dieta + Controle de √Ågua + Ciclo üå∏</header>

  <main>
    <!-- Contador de √Ågua -->
    <section class="water-tracker">
      <h2>Meta de √Ågua</h2>
      <p>Meta di√°ria: <strong>2 litros (4 garrafas de 500 ml)</strong></p>
      <div class="bottles">
        <div class="bottle" data-index="1"></div>
        <div class="bottle" data-index="2"></div>
        <div class="bottle" data-index="3"></div>
        <div class="bottle" data-index="4"></div>
      </div>
      <div class="progress">0 / 2000 ml</div>
      <button id="resetBtn">üîÑ Zerar</button>
      <audio id="applause" src="https://www.soundjay.com/human/applause-01.mp3"></audio>
    </section>

    <!-- Marcador de Menstrua√ß√£o -->
    <section class="menstruation-tracker">
      <h2>Marcador de Menstrua√ß√£o</h2>
      <label for="menstruationDay">Dia:</label>
      <input type="number" id="menstruationDay" min="1" max="31" placeholder="Dia">

      <label for="menstruationMonth">M√™s:</label>
      <input type="number" id="menstruationMonth" min="1" max="12" placeholder="M√™s">

      <button id="saveMenstruation">Salvar</button>
      <p id="menstruationInfo"></p>
    </section>

    <!-- Dieta da Semana -->
    <section>
      <h2>Segunda-feira</h2>
      <ul>
        <li>Caf√©: 1 ovo mexido + 1 fatia de p√£o integral + leite desnatado</li>
        <li>Lanche: 1 banana</li>
        <li>Almo√ßo: arroz, feij√£o, frango grelhado, salada alface e tomate</li>
        <li>Lanche: mam√£o</li>
        <li>Jantar: 2 ovos cozidos + cenoura e pepino</li>
        <li>Ceia: √°gua com lim√£o</li>
      </ul>
    </section>

    <section>
      <h2>Ter√ßa-feira</h2>
      <ul>
        <li>Caf√©: p√£o franc√™s + ovo cozido + suco natural</li>
        <li>Lanche: ma√ß√£</li>
        <li>Almo√ßo: arroz, feij√£o, ovo mexido, salada repolho</li>
        <li>Lanche: banana</li>
        <li>Jantar: frango desfiado + couve e tomate</li>
        <li>Ceia: leite desnatado</li>
      </ul>
    </section>

    <section>
      <h2>Quarta-feira</h2>
      <ul>
        <li>Caf√©: p√£o integral + ovo mexido + leite desnatado</li>
        <li>Lanche: fruta da esta√ß√£o</li>
        <li>Almo√ßo: arroz, feij√£o, frango grelhado, abobrinha cozida</li>
        <li>Lanche: mam√£o com aveia</li>
        <li>Jantar: 2 ovos mexidos + alface e pepino</li>
        <li>Ceia: √°gua com lim√£o</li>
      </ul>
    </section>

    <section>
      <h2>Quinta-feira</h2>
      <ul>
        <li>Caf√©: p√£o franc√™s + ovo cozido + suco natural</li>
        <li>Lanche: laranja</li>
        <li>Almo√ßo: arroz, feij√£o, sardinha, salada tomate e repolho</li>
        <li>Lanche: banana</li>
        <li>Jantar: frango desfiado + couve</li>
        <li>Ceia: ch√° de camomila</li>
      </ul>
    </section>

    <section>
      <h2>Sexta-feira</h2>
      <ul>
        <li>Caf√©: ovo mexido + p√£o integral + leite desnatado</li>
        <li>Lanche: fruta da esta√ß√£o</li>
        <li>Almo√ßo: arroz, feij√£o, ovo cozido, salada beterraba e alface</li>
        <li>Lanche: mam√£o</li>
        <li>Jantar: frango grelhado + abobrinha e cenoura</li>
        <li>Ceia: √°gua com lim√£o</li>
      </ul>
    </section>

    <section>
      <h2>S√°bado</h2>
      <ul>
        <li>Caf√©: p√£o franc√™s + ovo mexido + suco natural</li>
        <li>Lanche: ma√ß√£</li>
        <li>Almo√ßo: arroz, feij√£o, frango grelhado, salada alface e tomate</li>
        <li>Lanche: banana</li>
        <li>Jantar: 2 ovos cozidos + couve e cenoura</li>
        <li>Ceia: leite desnatado</li>
      </ul>
    </section>

    <section>
      <h2>Domingo</h2>
      <ul>
        <li>Caf√©: p√£o integral + ovo mexido + leite desnatado</li>
        <li>Lanche: fruta da esta√ß√£o</li>
        <li>Almo√ßo: arroz, feij√£o, carne mo√≠da magra, salada repolho e tomate</li>
        <li>Lanche: mam√£o</li>
        <li>Jantar: frango desfiado + alface, pepino e cenoura</li>
        <li>Ceia: ch√° de erva-doce</li>
      </ul>
    </section>

  </main>

  <script>
    // Contador de √°gua
    const resetBtn = document.getElementById("resetBtn");
    let filledCount = JSON.parse(localStorage.getItem("filledCount")) || 0;

    function updateProgress(bottles) {
      const total = filledCount * 500;
      document.querySelector(".progress").textContent = `${total} / 2000 ml`;
      if(filledCount === bottles.length) {
        showAnimation();
      }
    }

    function showAnimation() {
      const applause = document.getElementById("applause");
      applause.currentTime = 0;
      applause.play();

      for(let i=0; i<30; i++) {
        const confetti = document.createElement('div');
        confetti.classList.add('confetti');
        confetti.style.left = Math.random() * window.innerWidth + 'px';
        confetti.style.backgroundColor = `hsl(${Math.random()*360}, 100%, 70%)`;
        document.body.appendChild(confetti);
        setTimeout(() => confetti.remove(), 2000);

        const heart = document.createElement('div');
        heart.classList.add('heart');
        heart.style.left = Math.random() * window.innerWidth + 'px';
        heart.textContent = '‚ù§Ô∏è';
        document.body.appendChild(heart);
        setTimeout(() => heart.remove(), 2000);

        const flower = document.createElement('div');
        flower.classList.add('flower');
        flower.style.left = Math.random() * window.innerWidth + 'px';
        flower.textContent = 'üå∏';
        document.body.appendChild(flower);
        setTimeout(() => flower.remove(), 2000);
      }
    }

    function createBottles() {
      let bottles = document.querySelectorAll(".bottle");
      bottles.forEach((bottle, index) => {
        bottle.classList.remove("filled");
        if(index < filledCount) bottle.classList.add("filled");
        bottle.replaceWith(bottle.cloneNode(true));
      });

      bottles = document.querySelectorAll(".bottle");
      bottles.forEach((bottle, index) => {
        bottle.addEventListener("click", () => {
          if(bottle.classList.contains("filled")) {
            bottle.classList.remove("filled");
            filledCount--;
          } else {
            bottle.classList.add("filled");
            filledCount++;
          }
          localStorage.setItem("filledCount", JSON.stringify(filledCount));
          localStorage.setItem("lastReset", localStorage.getItem("lastReset") || new Date().getTime());
          updateProgress(bottles);
        });
      });

      updateProgress(bottles);
    }

    // Reset manual
    resetBtn.addEventListener("click", () => {
      filledCount = 0;
      localStorage.setItem("filledCount", JSON.stringify(filledCount));
      localStorage.setItem("lastReset", new Date().getTime());
      createBottles();
    });

    // Reset autom√°tico 24h
    window.onload = () => {
      const lastReset = JSON.parse(localStorage.getItem("lastReset")) || 0;
      const now = new Date().getTime();
      if(now - lastReset >= 24*60*60*1000) {
        filledCount = 0;
        localStorage.setItem("filledCount", JSON.stringify(filledCount));
        localStorage.setItem("lastReset", now);
      }
      createBottles();
    }

    // Marcador de menstrua√ß√£o
    const menstruationDayInput = document.getElementById("menstruationDay");
    const menstruationMonthInput = document.getElementById("menstruationMonth");
    const saveMenstruationBtn = document.getElementById("saveMenstruation");
    const menstruationInfo = document.getElementById("menstruationInfo");

    const savedDay = localStorage.getItem("menstruationDay");
    const savedMonth = localStorage.getItem("menstruationMonth");
    if(savedDay && savedMonth) {
      menstruationInfo.textContent = `Seu ciclo come√ßou em: ${savedDay}/${savedMonth}`;
      menstruationDayInput.value = savedDay;
      menstruationMonthInput.value = savedMonth;
    }

    saveMenstruationBtn.addEventListener("click", () => {
      const day = menstruationDayInput.value;
      const month = menstruationMonthInput.value;
      if(day >=1 && day <=31 && month >=1 && month <=12) {
        localStorage.setItem("menstruationDay", day);
        localStorage.setItem("menstruationMonth", month);
        menstruationInfo.textContent = `Seu ciclo come√ßou em: ${day}/${month}`;
      } else {
        alert("Digite um dia (1-31) e um m√™s (1-12) v√°lidos.");
      }
    });
  </script>
</body>
</html>
